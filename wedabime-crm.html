<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEDABIME PRAMUKAYO CRM</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Courier+New:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg-dark: #001a00;
            --card-bg: #002200;
            --border-color: #004400;
            --text-neon: #39FF14;
            --text-secondary: #00cc00;
            --accent-yellow: #ff9900;
            --accent-yellow-light: #ffff00;
            --accent-green: #00cc00;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background-color: var(--bg-dark);
            color: var(--text-neon);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .app-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header Styles */
        .header {
            background-color: var(--card-bg);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .header-left .logo h1 {
            font-size: 1.5rem;
            color: var(--text-neon);
            margin-bottom: 0.25rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .header-left .logo span {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .header-right {
            display: flex;
            align-items: center;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .notification-icon {
            position: relative;
            cursor: pointer;
        }

        .notification-icon i {
            font-size: 1.25rem;
            color: var(--text-secondary);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--accent-yellow);
            color: var(--bg-dark);
            font-size: 0.75rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .user-avatar {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .user-avatar img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 1px solid var(--text-secondary);
        }

        /* Main Container */
        .main-container {
            display: flex;
            flex: 1;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background-color: var(--card-bg);
            border-right: 1px solid var(--border-color);
            transition: var(--transition);
            overflow-y: auto;
        }

        .sidebar-nav ul {
            list-style: none;
            padding: 1rem 0;
        }

        .nav-item {
            margin-bottom: 0.25rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
            text-transform: uppercase;
            font-size: 0.875rem;
            letter-spacing: 1px;
            border-left: 3px solid transparent;
        }

        .nav-link i {
            width: 20px;
            margin-right: 0.75rem;
        }

        .nav-item.active .nav-link,
        .nav-link:hover {
            background-color: rgba(57, 255, 20, 0.1);
            color: var(--text-neon);
            border-left: 3px solid var(--text-neon);
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 1rem;
        }

        .page-header h2 {
            font-size: 1.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-left: 4px solid var(--text-neon);
            padding-left: 0.5rem;
        }

        .header-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Button Styles */
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.25rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-transform: uppercase;
            font-size: 0.875rem;
            letter-spacing: 1px;
        }

        .btn-primary {
            background-color: var(--text-neon);
            color: var(--bg-dark);
            border: 1px solid var(--text-neon);
        }

        .btn-primary:hover {
            background-color: rgba(57, 255, 20, 0.8);
            box-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--text-secondary);
        }

        .btn-secondary:hover {
            background-color: var(--text-secondary);
            color: var(--bg-dark);
        }

        .btn-warning {
            background-color: var(--accent-yellow);
            color: var(--bg-dark);
            border: 1px solid var(--accent-yellow);
        }

        .btn-warning:hover {
            background-color: rgba(255, 153, 0, 0.8);
            box-shadow: 0 0 10px rgba(255, 153, 0, 0.5);
        }

        .btn-sm {
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
        }

        /* Dashboard Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background-color: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }

        .stat-card:nth-child(1) .stat-icon {
            background-color: rgba(57, 255, 20, 0.1);
            color: var(--text-neon);
        }

        .stat-card:nth-child(2) .stat-icon {
            background-color: rgba(0, 204, 0, 0.1);
            color: var(--text-secondary);
        }

        .stat-card:nth-child(3) .stat-icon {
            background-color: rgba(255, 153, 0, 0.1);
            color: var(--accent-yellow);
        }

        .stat-card:nth-child(4) .stat-icon {
            background-color: rgba(255, 255, 0, 0.1);
            color: var(--accent-yellow-light);
        }

        .stat-icon i {
            font-size: 1.5rem;
        }

        .stat-info h3 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .stat-info p {
            color: var(--text-secondary);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .dashboard-card {
            background-color: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .dashboard-card h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-left: 3px solid var(--text-neon);
            padding-left: 0.5rem;
        }

        .activity-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            flex-shrink: 0;
        }

        .activity-icon.customer {
            background-color: rgba(57, 255, 20, 0.1);
            color: var(--text-neon);
        }

        .activity-icon.lead {
            background-color: rgba(0, 204, 0, 0.1);
            color: var(--text-secondary);
        }

        .activity-icon.deal {
            background-color: rgba(255, 153, 0, 0.1);
            color: var(--accent-yellow);
        }

        .activity-details {
            flex: 1;
        }

        .activity-details h4 {
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .activity-details p {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .pipeline-chart {
            height: 300px;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
        }

        .pipeline-bar {
            width: 60px;
            background-color: var(--text-neon);
            border-radius: 0.25rem 0.25rem 0 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .pipeline-bar-label {
            position: absolute;
            bottom: -25px;
            font-size: 0.75rem;
            text-align: center;
            width: 100%;
            text-transform: uppercase;
        }

        .pipeline-bar-value {
            position: absolute;
            top: -20px;
            font-weight: 600;
        }

        /* Table Styles */
        .search-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .search-input-container {
            position: relative;
            flex: 1;
            max-width: 400px;
        }

        .search-input-container i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .search-input-container input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid var(--border-color);
            border-radius: 0.25rem;
            font-size: 0.875rem;
            background-color: var(--card-bg);
            color: var(--text-neon);
        }

        .search-input-container input:focus {
            border-color: var(--text-neon);
            box-shadow: 0 0 5px rgba(57, 255, 20, 0.3);
        }

        .filter-options select {
            padding: 0.75rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.25rem;
            font-size: 0.875rem;
            margin-left: 0.5rem;
            background-color: var(--card-bg);
            color: var(--text-neon);
        }

        .table-container {
            background-color: var(--card-bg);
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background-color: rgba(0, 34, 0, 0.5);
            padding: 1rem;
            text-align: left;
            font-weight: 700;
            color: var(--text-neon);
            border-bottom: 1px solid var(--border-color);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.875rem;
        }

        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-neon);
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .status-badge.active {
            background-color: rgba(0, 204, 0, 0.2);
            color: var(--accent-green);
        }

        .status-badge.inactive {
            background-color: rgba(255, 153, 0, 0.2);
            color: var(--accent-yellow);
        }

        .status-badge.new {
            background-color: rgba(57, 255, 20, 0.2);
            color: var(--text-neon);
        }

        .status-badge.contacted {
            background-color: rgba(255, 255, 0, 0.2);
            color: var(--accent-yellow-light);
        }

        .status-badge.qualified {
            background-color: rgba(0, 204, 0, 0.2);
            color: var(--text-secondary);
        }

        .status-badge.converted {
            background-color: rgba(0, 204, 0, 0.2);
            color: var(--accent-green);
        }

        .status-badge.quotationissued {
            background-color: rgba(255, 153, 0, 0.2);
            color: var(--accent-yellow);
        }

        .status-badge.pending {
            background-color: rgba(255, 255, 0, 0.2);
            color: var(--accent-yellow-light);
        }

        .status-badge.completed {
            background-color: rgba(0, 204, 0, 0.2);
            color: var(--accent-green);
        }

        .table-actions {
            display: flex;
            gap: 0.5rem;
        }

        .table-actions button {
            padding: 0.25rem 0.5rem;
            border: none;
            background: none;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 0.25rem;
            transition: var(--transition);
        }

        .table-actions button:hover {
            background-color: rgba(57, 255, 20, 0.1);
        }

        .table-actions button.edit:hover {
            color: var(--accent-yellow);
        }

        .table-actions button.delete:hover {
            color: #ff006e;
        }

        /* Pipeline Styles */
        .pipeline-container {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding-bottom: 1rem;
        }

        .pipeline-stage {
            min-width: 250px;
            background-color: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .stage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stage-header h3 {
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stage-count {
            background-color: var(--text-neon);
            color: var(--bg-dark);
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-weight: 700;
        }

        .stage-cards {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            min-height: 200px;
        }

        .deal-card {
            background-color: rgba(0, 34, 0, 0.3);
            border-radius: 0.25rem;
            padding: 1rem;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .deal-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(57, 255, 20, 0.3);
            border-color: var(--text-neon);
        }

        .deal-card h4 {
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        .deal-card p {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .deal-value {
            font-weight: 700;
            color: var(--text-neon);
        }

        /* Tasks Styles */
        .task-filters {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 0.25rem;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-secondary);
            text-transform: uppercase;
            font-size: 0.875rem;
            letter-spacing: 1px;
        }

        .filter-btn.active,
        .filter-btn:hover {
            background-color: var(--text-neon);
            color: var(--bg-dark);
            border-color: var(--text-neon);
        }

        .task-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .task-item {
            background-color: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1rem;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            transition: var(--transition);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .task-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(57, 255, 20, 0.3);
            border-color: var(--text-neon);
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            margin-right: 1rem;
            cursor: pointer;
            accent-color: var(--text-neon);
        }

        .task-content {
            flex: 1;
        }

        .task-title {
            font-weight: 700;
            margin-bottom: 0.25rem;
            text-transform: uppercase;
        }

        .task-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .task-priority {
            padding: 0.125rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 700;
        }

        .task-priority.high {
            background-color: rgba(255, 0, 110, 0.2);
            color: #ff006e;
        }

        .task-priority.medium {
            background-color: rgba(255, 153, 0, 0.2);
            color: var(--accent-yellow);
        }

        .task-priority.low {
            background-color: rgba(57, 255, 20, 0.2);
            color: var(--text-neon);
        }

        .task-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Reports Styles */
        .reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 1.5rem;
        }

        .report-card {
            background-color: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .report-card h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-left: 3px solid var(--text-neon);
            padding-left: 0.5rem;
        }

        .chart-container {
            height: 300px;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: var(--card-bg);
            border-radius: 0.5rem;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: var(--transition);
            border: 1px solid var(--border-color);
            box-shadow: 0 0 20px rgba(57, 255, 20, 0.2);
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-header h3 {
            font-size: 1.25rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.25rem;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.875rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.25rem;
            font-size: 0.875rem;
            background-color: rgba(0, 34, 0, 0.3);
            color: var(--text-neon);
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--text-neon);
            box-shadow: 0 0 5px rgba(57, 255, 20, 0.3);
            outline: none;
        }

        .form-group textarea {
            resize: vertical;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
        }

        /* Loading Spinner */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(57, 255, 20, 0.3);
            border-radius: 50%;
            border-top-color: var(--text-neon);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--card-bg);
            color: var(--text-neon);
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 2000;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success {
            border-color: var(--text-neon);
            background-color: rgba(57, 255, 20, 0.1);
        }

        .toast.error {
            border-color: #ff006e;
            background-color: rgba(255, 0, 110, 0.1);
            color: #ff006e;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
            }
            
            .sidebar .nav-link span {
                display: none;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .reports-grid {
                grid-template-columns: 1fr;
            }
            
            .pipeline-container {
                flex-direction: column;
            }
            
            .pipeline-stage {
                min-width: 100%;
            }
        }

        @media (max-width: 576px) {
            .header {
                padding: 1rem;
            }
            
            .header-left .logo h1 {
                font-size: 1.25rem;
            }
            
            .user-avatar span {
                display: none;
            }
            
            .main-content {
                padding: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .search-bar {
                flex-direction: column;
                gap: 1rem;
            }
            
            .search-input-container {
                max-width: 100%;
            }
            
            .modal {
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <h1>WEDABIME PRAMUKAYO CRM</h1>
                    <span>Construction Management System</span>
                </div>
            </div>
            <div class="header-right">
                <div class="user-profile">
                    <div class="notification-icon">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge" id="notification-count">0</span>
                    </div>
                    <div class="user-avatar">
                        <img src="https://picsum.photos/seed/admin123/40/40.jpg" alt="User Avatar">
                        <span>Admin User</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </div>
        </header>

        <div class="main-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <nav class="sidebar-nav">
                    <ul>
                        <li class="nav-item active" data-page="dashboard">
                            <a href="#" class="nav-link">
                                <i class="fas fa-th-large"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item" data-page="customers">
                            <a href="#" class="nav-link">
                                <i class="fas fa-users"></i>
                                <span>Customers</span>
                            </a>
                        </li>
                        <li class="nav-item" data-page="leads">
                            <a href="#" class="nav-link">
                                <i class="fas fa-user-tie"></i>
                                <span>Leads</span>
                            </a>
                        </li>
                        <li class="nav-item" data-page="sales">
                            <a href="#" class="nav-link">
                                <i class="fas fa-chart-line"></i>
                                <span>Sales Pipeline</span>
                            </a>
                        </li>
                        <li class="nav-item" data-page="tasks">
                            <a href="#" class="nav-link">
                                <i class="fas fa-tasks"></i>
                                <span>Tasks</span>
                            </a>
                        </li>
                        <li class="nav-item" data-page="reports">
                            <a href="#" class="nav-link">
                                <i class="fas fa-chart-bar"></i>
                                <span>Reports</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Page -->
                <div class="page active" id="dashboard-page">
                    <div class="page-header">
                        <h2>Dashboard</h2>
                        <div class="header-actions">
                            <button class="btn btn-primary" id="refresh-data-btn">
                                <i class="fas fa-sync-alt"></i> Refresh Data
                            </button>
                            <button class="btn btn-secondary" id="export-data-btn">
                                <i class="fas fa-download"></i> Export Data
                            </button>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="total-customers">0</h3>
                                <p>Total Customers</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-user-tie"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="total-leads">0</h3>
                                <p>Active Leads</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-handshake"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="deals-won">0</h3>
                                <p>Deals Won This Month</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="revenue">LKR 0</h3>
                                <p>Total Revenue</p>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3>Recent Activities</h3>
                            <div class="activity-list" id="recent-activities">
                                <div class="loading" style="text-align: center; padding: 2rem;"></div>
                            </div>
                        </div>
                        <div class="dashboard-card">
                            <h3>Sales Pipeline</h3>
                            <div class="pipeline-chart" id="pipeline-chart">
                                <div class="loading" style="text-align: center; padding: 2rem;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Customers Page -->
                <div class="page" id="customers-page">
                    <div class="page-header">
                        <h2>Customers</h2>
                        <div class="header-actions">
                            <button class="btn btn-primary" id="add-customer-btn">
                                <i class="fas fa-plus"></i> Add Customer
                            </button>
                        </div>
                    </div>

                    <div class="search-bar">
                        <div class="search-input-container">
                            <i class="fas fa-search"></i>
                            <input type="text" id="customer-search" placeholder="Search customers...">
                        </div>
                        <div class="filter-options">
                            <select id="customer-filter">
                                <option value="all">All Customers</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="customers-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Company</th>
                                    <th>Total Value</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="customers-tbody">
                                <tr>
                                    <td colspan="8" style="text-align: center; padding: 2rem;">
                                        <div class="loading"></div>
                                        <p style="margin-top: 1rem;">Loading customers...</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Leads Page -->
                <div class="page" id="leads-page">
                    <div class="page-header">
                        <h2>Leads</h2>
                        <div class="header-actions">
                            <button class="btn btn-primary" id="add-lead-btn">
                                <i class="fas fa-plus"></i> Add Lead
                            </button>
                        </div>
                    </div>

                    <div class="search-bar">
                        <div class="search-input-container">
                            <i class="fas fa-search"></i>
                            <input type="text" id="lead-search" placeholder="Search leads...">
                        </div>
                        <div class="filter-options">
                            <select id="lead-filter">
                                <option value="all">All Leads</option>
                                <option value="new">New</option>
                                <option value="contacted">Contacted</option>
                                <option value="qualified">Qualified</option>
                                <option value="converted">Converted</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="leads-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Company</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="leads-tbody">
                                <tr>
                                    <td colspan="7" style="text-align: center; padding: 2rem;">
                                        <div class="loading"></div>
                                        <p style="margin-top: 1rem;">Loading leads...</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Sales Pipeline Page -->
                <div class="page" id="sales-page">
                    <div class="page-header">
                        <h2>Sales Pipeline</h2>
                        <div class="header-actions">
                            <button class="btn btn-primary" id="add-deal-btn">
                                <i class="fas fa-plus"></i> Add Deal
                            </button>
                        </div>
                    </div>

                    <div class="pipeline-container">
                        <div class="pipeline-stage" id="prospecting-stage">
                            <div class="stage-header">
                                <h3>Prospecting</h3>
                                <span class="stage-count">0</span>
                            </div>
                            <div class="stage-cards" id="prospecting-cards">
                                <!-- Deal cards will be populated here -->
                            </div>
                        </div>

                        <div class="pipeline-stage" id="qualification-stage">
                            <div class="stage-header">
                                <h3>Qualification</h3>
                                <span class="stage-count">0</span>
                            </div>
                            <div class="stage-cards" id="qualification-cards">
                                <!-- Deal cards will be populated here -->
                            </div>
                        </div>

                        <div class="pipeline-stage" id="proposal-stage">
                            <div class="stage-header">
                                <h3>Proposal</h3>
                                <span class="stage-count">0</span>
                            </div>
                            <div class="stage-cards" id="proposal-cards">
                                <!-- Deal cards will be populated here -->
                            </div>
                        </div>

                        <div class="pipeline-stage" id="negotiation-stage">
                            <div class="stage-header">
                                <h3>Negotiation</h3>
                                <span class="stage-count">0</span>
                            </div>
                            <div class="stage-cards" id="negotiation-cards">
                                <!-- Deal cards will be populated here -->
                            </div>
                        </div>

                        <div class="pipeline-stage" id="closed-won-stage">
                            <div class="stage-header">
                                <h3>Closed Won</h3>
                                <span class="stage-count">0</span>
                            </div>
                            <div class="stage-cards" id="closed-won-cards">
                                <!-- Deal cards will be populated here -->
                            </div>
                        </div>

                        <div class="pipeline-stage" id="closed-lost-stage">
                            <div class="stage-header">
                                <h3>Closed Lost</h3>
                                <span class="stage-count">0</span>
                            </div>
                            <div class="stage-cards" id="closed-lost-cards">
                                <!-- Deal cards will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tasks Page -->
                <div class="page" id="tasks-page">
                    <div class="page-header">
                        <h2>Tasks</h2>
                        <div class="header-actions">
                            <button class="btn btn-primary" id="add-task-btn">
                                <i class="fas fa-plus"></i> Add Task
                            </button>
                        </div>
                    </div>

                    <div class="task-filters">
                        <button class="filter-btn active" data-filter="all">All Tasks</button>
                        <button class="filter-btn" data-filter="pending">Pending</button>
                        <button class="filter-btn" data-filter="completed">Completed</button>
                        <button class="filter-btn" data-filter="high">High Priority</button>
                    </div>

                    <div class="task-list" id="task-list">
                        <div style="text-align: center; padding: 2rem;">
                            <div class="loading"></div>
                            <p style="margin-top: 1rem;">Loading tasks...</p>
                        </div>
                    </div>
                </div>

                <!-- Reports Page -->
                <div class="page" id="reports-page">
                    <div class="page-header">
                        <h2>Reports</h2>
                        <div class="header-actions">
                            <button class="btn btn-primary" id="generate-reports-btn">
                                <i class="fas fa-chart-line"></i> Generate Reports
                            </button>
                        </div>
                    </div>

                    <div class="reports-grid">
                        <div class="report-card">
                            <h3>Customer Overview</h3>
                            <div class="chart-container">
                                <canvas id="customer-chart"></canvas>
                            </div>
                        </div>
                        <div class="report-card">
                            <h3>Lead Conversion</h3>
                            <div class="chart-container">
                                <canvas id="lead-chart"></canvas>
                            </div>
                        </div>
                        <div class="report-card">
                            <h3>Revenue by Month</h3>
                            <div class="chart-container">
                                <canvas id="revenue-chart"></canvas>
                            </div>
                        </div>
                        <div class="report-card">
                            <h3>Services Distribution</h3>
                            <div class="chart-container">
                                <canvas id="services-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modal-overlay">
        <!-- Add Customer Modal -->
        <div class="modal" id="add-customer-modal">
            <div class="modal-header">
                <h3>Add New Customer</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="add-customer-form">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="customer-name">Name *</label>
                        <input type="text" id="customer-name" required>
                    </div>
                    <div class="form-group">
                        <label for="customer-email">Email *</label>
                        <input type="email" id="customer-email" required>
                    </div>
                    <div class="form-group">
                        <label for="customer-phone">Phone *</label>
                        <input type="tel" id="customer-phone" required>
                    </div>
                    <div class="form-group">
                        <label for="customer-company">Company</label>
                        <input type="text" id="customer-company">
                    </div>
                    <div class="form-group">
                        <label for="customer-address">Address</label>
                        <textarea id="customer-address" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="customer-gutter">Gutter Services</label>
                        <select id="customer-gutter">
                            <option value="None">None</option>
                            <option value="New">New</option>
                            <option value="Repair">Repair</option>
                            <option value="Removing">Removing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="customer-ceiling">Ceiling Services</label>
                        <select id="customer-ceiling">
                            <option value="None">None</option>
                            <option value="New">New</option>
                            <option value="Repair">Repair</option>
                            <option value="Removing">Removing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="customer-roof">Roof Services</label>
                        <select id="customer-roof">
                            <option value="None">None</option>
                            <option value="New">New</option>
                            <option value="Repair">Repair</option>
                            <option value="Removing">Removing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="customer-value">Total Value (LKR)</label>
                        <input type="number" id="customer-value" min="0" step="1000">
                    </div>
                    <div class="form-group">
                        <label for="customer-status">Status</label>
                        <select id="customer-status">
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancel-customer">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Customer</button>
                </div>
            </form>
        </div>

        <!-- Add Lead Modal -->
        <div class="modal" id="add-lead-modal">
            <div class="modal-header">
                <h3>Add New Lead</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="add-lead-form">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="lead-name">Name *</label>
                        <input type="text" id="lead-name" required>
                    </div>
                    <div class="form-group">
                        <label for="lead-email">Email *</label>
                        <input type="email" id="lead-email" required>
                    </div>
                    <div class="form-group">
                        <label for="lead-phone">Phone *</label>
                        <input type="tel" id="lead-phone" required>
                    </div>
                    <div class="form-group">
                        <label for="lead-company">Company</label>
                        <input type="text" id="lead-company">
                    </div>
                    <div class="form-group">
                        <label for="lead-source">Source</label>
                        <select id="lead-source">
                            <option value="Website">Website</option>
                            <option value="Referral">Referral</option>
                            <option value="Social Media">Social Media</option>
                            <option value="Cold Call">Cold Call</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="lead-status">Status</label>
                        <select id="lead-status">
                            <option value="new">New</option>
                            <option value="contacted">Contacted</option>
                            <option value="qualified">Qualified</option>
                            <option value="converted">Converted</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="lead-assigned">Assigned To</label>
                        <input type="text" id="lead-assigned" value="Admin User">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancel-lead">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Lead</button>
                </div>
            </form>
        </div>

        <!-- Add Deal Modal -->
        <div class="modal" id="add-deal-modal">
            <div class="modal-header">
                <h3>Add New Deal</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="add-deal-form">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="deal-name">Deal Name *</label>
                        <input type="text" id="deal-name" required>
                    </div>
                    <div class="form-group">
                        <label for="deal-customer">Customer *</label>
                        <select id="deal-customer" required>
                            <option value="">Select Customer</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="deal-value">Value (LKR) *</label>
                        <input type="number" id="deal-value" min="0" step="1000" required>
                    </div>
                    <div class="form-group">
                        <label for="deal-stage">Stage *</label>
                        <select id="deal-stage" required>
                            <option value="prospecting">Prospecting</option>
                            <option value="qualification">Qualification</option>
                            <option value="proposal">Proposal</option>
                            <option value="negotiation">Negotiation</option>
                            <option value="closed-won">Closed Won</option>
                            <option value="closed-lost">Closed Lost</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="deal-probability">Probability (%)</label>
                        <input type="number" id="deal-probability" min="0" max="100" value="50">
                    </div>
                    <div class="form-group">
                        <label for="deal-close-date">Expected Close Date</label>
                        <input type="date" id="deal-close-date">
                    </div>
                    <div class="form-group">
                        <label for="deal-assigned">Assigned To</label>
                        <input type="text" id="deal-assigned" value="Admin User">
                    </div>
                    <div class="form-group">
                        <label for="deal-description">Description</label>
                        <textarea id="deal-description" rows="3"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancel-deal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Deal</button>
                </div>
            </form>
        </div>

        <!-- Add Task Modal -->
        <div class="modal" id="add-task-modal">
            <div class="modal-header">
                <h3>Add New Task</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="add-task-form">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="task-title">Task Title *</label>
                        <input type="text" id="task-title" required>
                    </div>
                    <div class="form-group">
                        <label for="task-description">Description</label>
                        <textarea id="task-description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="task-priority">Priority</label>
                        <select id="task-priority">
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="task-due-date">Due Date</label>
                        <input type="date" id="task-due-date">
                    </div>
                    <div class="form-group">
                        <label for="task-assigned">Assigned To</label>
                        <input type="text" id="task-assigned" value="Admin User">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancel-task">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Task</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script>
        // CRM Application for Wedabime Pramukayo (PVT.) LTD.
        // Connected to Google Sheets Backend

        // Global variables
        let currentPage = 'dashboard';
        let customers = [];
        let leads = [];
        let deals = [];
        let tasks = [];
        let activities = [];
        
        // Google Sheets Web App URL - Updated with user's provided URL
        const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwB2fwQ_NFb1q2MxNV2NQUupCBHreHB8h812baTF8t-eGMJSIQPEYQ4NWmwcWRGe5cK/exec";

        // DOM elements
        const navItems = document.querySelectorAll('.nav-item');
        const pages = document.querySelectorAll('.page');
        const modalOverlay = document.getElementById('modal-overlay');
        const addCustomerBtn = document.getElementById('add-customer-btn');
        const addLeadBtn = document.getElementById('add-lead-btn');
        const addDealBtn = document.getElementById('add-deal-btn');
        const addTaskBtn = document.getElementById('add-task-btn');
        const refreshDataBtn = document.getElementById('refresh-data-btn');
        const exportDataBtn = document.getElementById('export-data-btn');

        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
            setupEventListeners();
            loadAllData();
        });

        // Initialize the app
        function initializeApp() {
            console.log('Initializing Wedabime Pramukayo CRM...');
            updateDateTime();
            setInterval(updateDateTime, 60000); // Update every minute
        }

        // Update date/time
        function updateDateTime() {
            const now = new Date();
            console.log('CRM System Active -', now.toLocaleString());
        }

        // Setup event listeners
        function setupEventListeners() {
            // Navigation
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageName = item.getAttribute('data-page');
                    navigateToPage(pageName);
                });
            });
            
            // Modal close buttons
            document.querySelectorAll('.modal-close').forEach(btn => {
                btn.addEventListener('click', closeModal);
            });
            
            // Modal cancel buttons
            document.querySelectorAll('[id^="cancel-"]').forEach(btn => {
                btn.addEventListener('click', closeModal);
            });
            
            // Modal overlay click
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    closeModal();
                }
            });
            
            // Add buttons
            addCustomerBtn.addEventListener('click', openAddCustomerModal);
            addLeadBtn.addEventListener('click', openAddLeadModal);
            addDealBtn.addEventListener('click', openAddDealModal);
            addTaskBtn.addEventListener('click', openAddTaskModal);
            
            // Form submissions
            document.getElementById('add-customer-form').addEventListener('submit', handleAddCustomer);
            document.getElementById('add-lead-form').addEventListener('submit', handleAddLead);
            document.getElementById('add-deal-form').addEventListener('submit', handleAddDeal);
            document.getElementById('add-task-form').addEventListener('submit', handleAddTask);
            
            // Refresh and export buttons
            refreshDataBtn.addEventListener('click', loadAllData);
            exportDataBtn.addEventListener('click', exportData);
            
            // Search functionality
            document.getElementById('customer-search').addEventListener('input', filterCustomers);
            document.getElementById('lead-search').addEventListener('input', filterLeads);
            
            // Filter functionality
            document.getElementById('customer-filter').addEventListener('change', filterCustomers);
            document.getElementById('lead-filter').addEventListener('change', filterLeads);
            
            // Task filters
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    filterTasks(e.target.getAttribute('data-filter'));
                });
            });
        }

        // Navigation
        function navigateToPage(pageName) {
            // Update nav items
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-page') === pageName) {
                    item.classList.add('active');
                }
            });
            
            // Update pages
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === `${pageName}-page`) {
                    page.classList.add('active');
                }
            });
            
            currentPage = pageName;
            
            // Load page-specific data
            if (pageName === 'reports') {
                generateReports();
            }
        }

        // Google Sheets API Functions
        async function callGoogleSheetsAPI(action, data = {}) {
            try {
                showLoading(true);
                
                const formData = new FormData();
                formData.append('action', action);
                formData.append('data', JSON.stringify(data));
                
                const response = await fetch(WEB_APP_URL, {
                    method: 'POST',
                    body: formData
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (result.status === 'error') {
                    throw new Error(result.message || 'Unknown error occurred');
                }
                
                return result.data;
            } catch (error) {
                console.error('Google Sheets API Error:', error);
                showToast(`Error: ${error.message}`, 'error');
                return null;
            } finally {
                showLoading(false);
            }
        }

        // Load all data from Google Sheets
        async function loadAllData() {
            console.log('Loading data from Google Sheets...');
            
            try {
                // Load customers
                const customersData = await callGoogleSheetsAPI('getCustomers');
                if (customersData) {
                    customers = customersData;
                    renderCustomers();
                }
                
                // Load leads
                const leadsData = await callGoogleSheetsAPI('getLeads');
                if (leadsData) {
                    leads = leadsData;
                    renderLeads();
                }
                
                // Load deals
                const dealsData = await callGoogleSheetsAPI('getDeals');
                if (dealsData) {
                    deals = dealsData;
                    renderPipeline();
                }
                
                // Load tasks
                const tasksData = await callGoogleSheetsAPI('getTasks');
                if (tasksData) {
                    tasks = tasksData;
                    renderTasks();
                }
                
                // Load activities
                const activitiesData = await callGoogleSheetsAPI('getActivities');
                if (activitiesData) {
                    activities = activitiesData;
                }
                
                // Update dashboard
                renderDashboard();
                
                showToast('Data loaded successfully!', 'success');
            } catch (error) {
                console.error('Error loading data:', error);
                showToast('Failed to load data. Please try again.', 'error');
            }
        }

        // Render Dashboard
        function renderDashboard() {
            // Update stats
            document.getElementById('total-customers').textContent = customers.length;
            document.getElementById('total-leads').textContent = leads.length;
            
            const dealsWonThisMonth = deals.filter(deal => 
                deal.stage === 'closed-won' && 
                new Date(deal.createdDate).getMonth() === new Date().getMonth()
            ).length;
            document.getElementById('deals-won').textContent = dealsWonThisMonth;
            
            const totalRevenue = customers.reduce((sum, customer) => 
                sum + (parseInt(customer.totalValue) || 0), 0
            );
            document.getElementById('revenue').textContent = `LKR ${totalRevenue.toLocaleString()}`;
            
            // Render recent activities
            renderRecentActivities();
            
            // Render pipeline chart
            renderPipelineChart();
            
            // Update notification count
            const pendingTasks = tasks.filter(task => !task.completed).length;
            document.getElementById('notification-count').textContent = pendingTasks;
        }

        // Render Recent Activities
        function renderRecentActivities() {
            const container = document.getElementById('recent-activities');
            const recentActivities = activities.slice(0, 5);
            
            if (recentActivities.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">No recent activities</p>';
                return;
            }
            
            container.innerHTML = recentActivities.map(activity => `
                <div class="activity-item">
                    <div class="activity-icon ${activity.type}">
                        <i class="fas fa-${getActivityIcon(activity.type)}"></i>
                    </div>
                    <div class="activity-details">
                        <h4>${activity.title}</h4>
                        <p>${activity.description}</p>
                    </div>
                </div>
            `).join('');
        }

        // Get activity icon
        function getActivityIcon(type) {
            const icons = {
                customer: 'users',
                lead: 'user-tie',
                deal: 'handshake',
                task: 'tasks'
            };
            return icons[type] || 'circle';
        }

        // Render Pipeline Chart
        function renderPipelineChart() {
            const container = document.getElementById('pipeline-chart');
            const stages = ['prospecting', 'qualification', 'proposal', 'negotiation', 'closed-won', 'closed-lost'];
            const stageNames = ['Prospecting', 'Qualification', 'Proposal', 'Negotiation', 'Won', 'Lost'];
            
            const stageCounts = stages.map(stage => 
                deals.filter(deal => deal.stage === stage).length
            );
            
            const maxCount = Math.max(...stageCounts, 1);
            
            container.innerHTML = stages.map((stage, index) => {
                const count = stageCounts[index];
                const height = (count / maxCount) * 250;
                
                return `
                    <div class="pipeline-bar" style="height: ${height}px;">
                        <span class="pipeline-bar-value">${count}</span>
                        <span class="pipeline-bar-label">${stageNames[index]}</span>
                    </div>
                `;
            }).join('');
        }

        // Render Customers Table
        function renderCustomers() {
            const tbody = document.getElementById('customers-tbody');
            
            if (customers.length === 0) {
                tbody.innerHTML = '<tr><td colspan="8" style="text-align: center;">No customers found</td></tr>';
                return;
            }
            
            tbody.innerHTML = customers.map(customer => `
                <tr>
                    <td>${customer.id || ''}</td>
                    <td>${customer.name || ''}</td>
                    <td>${customer.email || ''}</td>
                    <td>${customer.phone || ''}</td>
                    <td>${customer.company || ''}</td>
                    <td>LKR ${(parseInt(customer.totalValue) || 0).toLocaleString()}</td>
                    <td><span class="status-badge ${customer.status || 'active'}">${customer.status || 'Active'}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="edit" onclick="editCustomer(${customer.id})"><i class="fas fa-edit"></i></button>
                            <button class="delete" onclick="deleteCustomer(${customer.id})"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Render Leads Table
        function renderLeads() {
            const tbody = document.getElementById('leads-tbody');
            
            if (leads.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7" style="text-align: center;">No leads found</td></tr>';
                return;
            }
            
            tbody.innerHTML = leads.map(lead => `
                <tr>
                    <td>${lead.id || ''}</td>
                    <td>${lead.name || ''}</td>
                    <td>${lead.email || ''}</td>
                    <td>${lead.phone || ''}</td>
                    <td>${lead.company || ''}</td>
                    <td><span class="status-badge ${lead.status || 'new'}">${lead.status || 'New'}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="edit" onclick="editLead(${lead.id})"><i class="fas fa-edit"></i></button>
                            <button class="delete" onclick="deleteLead(${lead.id})"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Render Sales Pipeline
        function renderPipeline() {
            const stages = ['prospecting', 'qualification', 'proposal', 'negotiation', 'closed-won', 'closed-lost'];
            
            stages.forEach(stage => {
                const stageDeals = deals.filter(deal => deal.stage === stage);
                const container = document.getElementById(`${stage}-cards`);
                const countElement = document.querySelector(`#${stage}-stage .stage-count`);
                
                countElement.textContent = stageDeals.length;
                
                if (stageDeals.length === 0) {
                    container.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">No deals</p>';
                } else {
                    container.innerHTML = stageDeals.map(deal => `
                        <div class="deal-card" onclick="viewDeal(${deal.id})">
                            <h4>${deal.name}</h4>
                            <p>Customer: ${deal.customerName || 'N/A'}</p>
                            <p class="deal-value">LKR ${(parseInt(deal.value) || 0).toLocaleString()}</p>
                        </div>
                    `).join('');
                }
            });
        }

        // Render Tasks
        function renderTasks(filter = 'all') {
            const container = document.getElementById('task-list');
            let filteredTasks = tasks;
            
            if (filter === 'pending') {
                filteredTasks = tasks.filter(task => !task.completed);
            } else if (filter === 'completed') {
                filteredTasks = tasks.filter(task => task.completed);
            } else if (filter === 'high') {
                filteredTasks = tasks.filter(task => task.priority === 'high');
            }
            
            if (filteredTasks.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">No tasks found</p>';
                return;
            }
            
            container.innerHTML = filteredTasks.map(task => `
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" ${task.completed ? 'checked' : ''} 
                           onchange="toggleTask(${task.id})">
                    <div class="task-content">
                        <div class="task-title">${task.title}</div>
                        <div class="task-meta">
                            <span class="task-priority ${task.priority}">${task.priority}</span>
                            <span>Due: ${task.dueDate || 'No due date'}</span>
                            <span>Assigned: ${task.assignedTo || 'Unassigned'}</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="edit" onclick="editTask(${task.id})"><i class="fas fa-edit"></i></button>
                        <button class="delete" onclick="deleteTask(${task.id})"><i class="fas fa-trash"></i></button>
                    </div>
                </div>
            `).join('');
        }

        // Modal Functions
        function openAddCustomerModal() {
            document.getElementById('add-customer-modal').style.display = 'block';
            modalOverlay.classList.add('active');
        }

        function openAddLeadModal() {
            document.getElementById('add-lead-modal').style.display = 'block';
            modalOverlay.classList.add('active');
        }

        function openAddDealModal() {
            // Populate customer dropdown
            const customerSelect = document.getElementById('deal-customer');
            customerSelect.innerHTML = '<option value="">Select Customer</option>' +
                customers.map(customer => 
                    `<option value="${customer.id}">${customer.name}</option>`
                ).join('');
            
            document.getElementById('add-deal-modal').style.display = 'block';
            modalOverlay.classList.add('active');
        }

        function openAddTaskModal() {
            document.getElementById('add-task-modal').style.display = 'block';
            modalOverlay.classList.add('active');
        }

        function closeModal() {
            modalOverlay.classList.remove('active');
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
            
            // Reset forms
            document.querySelectorAll('form').forEach(form => {
                form.reset();
            });
        }

        // Form Handlers
        async function handleAddCustomer(e) {
            e.preventDefault();
            
            const customerData = {
                name: document.getElementById('customer-name').value,
                email: document.getElementById('customer-email').value,
                phone: document.getElementById('customer-phone').value,
                company: document.getElementById('customer-company').value,
                address: document.getElementById('customer-address').value,
                gutterServices: document.getElementById('customer-gutter').value,
                ceilingServices: document.getElementById('customer-ceiling').value,
                roofServices: document.getElementById('customer-roof').value,
                totalValue: document.getElementById('customer-value').value,
                status: document.getElementById('customer-status').value,
                createdDate: new Date().toISOString()
            };
            
            const result = await callGoogleSheetsAPI('addCustomer', customerData);
            if (result) {
                customers.push(result);
                renderCustomers();
                renderDashboard();
                closeModal();
                showToast('Customer added successfully!', 'success');
                
                // Add activity
                addActivity('customer', 'New Customer Added', `Added new customer ${customerData.name}`);
            }
        }

        async function handleAddLead(e) {
            e.preventDefault();
            
            const leadData = {
                name: document.getElementById('lead-name').value,
                email: document.getElementById('lead-email').value,
                phone: document.getElementById('lead-phone').value,
                company: document.getElementById('lead-company').value,
                source: document.getElementById('lead-source').value,
                status: document.getElementById('lead-status').value,
                assignedTo: document.getElementById('lead-assigned').value,
                createdDate: new Date().toISOString()
            };
            
            const result = await callGoogleSheetsAPI('addLead', leadData);
            if (result) {
                leads.push(result);
                renderLeads();
                renderDashboard();
                closeModal();
                showToast('Lead added successfully!', 'success');
                
                // Add activity
                addActivity('lead', 'New Lead Added', `Added new lead ${leadData.name}`);
            }
        }

        async function handleAddDeal(e) {
            e.preventDefault();
            
            const customerId = document.getElementById('deal-customer').value;
            const customer = customers.find(c => c.id == customerId);
            
            const dealData = {
                name: document.getElementById('deal-name').value,
                customerId: customerId,
                customerName: customer ? customer.name : '',
                value: document.getElementById('deal-value').value,
                stage: document.getElementById('deal-stage').value,
                probability: document.getElementById('deal-probability').value,
                expectedCloseDate: document.getElementById('deal-close-date').value,
                assignedTo: document.getElementById('deal-assigned').value,
                description: document.getElementById('deal-description').value,
                createdDate: new Date().toISOString()
            };
            
            const result = await callGoogleSheetsAPI('addDeal', dealData);
            if (result) {
                deals.push(result);
                renderPipeline();
                renderDashboard();
                closeModal();
                showToast('Deal added successfully!', 'success');
                
                // Add activity
                addActivity('deal', 'New Deal Added', `Added new deal ${dealData.name}`);
            }
        }

        async function handleAddTask(e) {
            e.preventDefault();
            
            const taskData = {
                title: document.getElementById('task-title').value,
                description: document.getElementById('task-description').value,
                priority: document.getElementById('task-priority').value,
                dueDate: document.getElementById('task-due-date').value,
                assignedTo: document.getElementById('task-assigned').value,
                completed: false,
                createdDate: new Date().toISOString()
            };
            
            const result = await callGoogleSheetsAPI('addTask', taskData);
            if (result) {
                tasks.push(result);
                renderTasks();
                renderDashboard();
                closeModal();
                showToast('Task added successfully!', 'success');
            }
        }

        // Add Activity
        async function addActivity(type, title, description) {
            const activityData = {
                type: type,
                title: title,
                description: description,
                timestamp: new Date().toISOString()
            };
            
            const result = await callGoogleSheetsAPI('addActivity', activityData);
            if (result) {
                activities.unshift(result);
                renderRecentActivities();
            }
        }

        // Filter Functions
        function filterCustomers() {
            const searchTerm = document.getElementById('customer-search').value.toLowerCase();
            const statusFilter = document.getElementById('customer-filter').value;
            
            const filteredCustomers = customers.filter(customer => {
                const matchesSearch = !searchTerm || 
                    customer.name.toLowerCase().includes(searchTerm) ||
                    customer.email.toLowerCase().includes(searchTerm) ||
                    customer.company.toLowerCase().includes(searchTerm);
                
                const matchesStatus = statusFilter === 'all' || customer.status === statusFilter;
                
                return matchesSearch && matchesStatus;
            });
            
            // Render filtered customers
            const tbody = document.getElementById('customers-tbody');
            if (filteredCustomers.length === 0) {
                tbody.innerHTML = '<tr><td colspan="8" style="text-align: center;">No customers found</td></tr>';
            } else {
                tbody.innerHTML = filteredCustomers.map(customer => `
                    <tr>
                        <td>${customer.id || ''}</td>
                        <td>${customer.name || ''}</td>
                        <td>${customer.email || ''}</td>
                        <td>${customer.phone || ''}</td>
                        <td>${customer.company || ''}</td>
                        <td>LKR ${(parseInt(customer.totalValue) || 0).toLocaleString()}</td>
                        <td><span class="status-badge ${customer.status || 'active'}">${customer.status || 'Active'}</span></td>
                        <td>
                            <div class="table-actions">
                                <button class="edit" onclick="editCustomer(${customer.id})"><i class="fas fa-edit"></i></button>
                                <button class="delete" onclick="deleteCustomer(${customer.id})"><i class="fas fa-trash"></i></button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }
        }

        function filterLeads() {
            const searchTerm = document.getElementById('lead-search').value.toLowerCase();
            const statusFilter = document.getElementById('lead-filter').value;
            
            const filteredLeads = leads.filter(lead => {
                const matchesSearch = !searchTerm || 
                    lead.name.toLowerCase().includes(searchTerm) ||
                    lead.email.toLowerCase().includes(searchTerm) ||
                    lead.company.toLowerCase().includes(searchTerm);
                
                const matchesStatus = statusFilter === 'all' || lead.status === statusFilter;
                
                return matchesSearch && matchesStatus;
            });
            
            // Render filtered leads
            const tbody = document.getElementById('leads-tbody');
            if (filteredLeads.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7" style="text-align: center;">No leads found</td></tr>';
            } else {
                tbody.innerHTML = filteredLeads.map(lead => `
                    <tr>
                        <td>${lead.id || ''}</td>
                        <td>${lead.name || ''}</td>
                        <td>${lead.email || ''}</td>
                        <td>${lead.phone || ''}</td>
                        <td>${lead.company || ''}</td>
                        <td><span class="status-badge ${lead.status || 'new'}">${lead.status || 'New'}</span></td>
                        <td>
                            <div class="table-actions">
                                <button class="edit" onclick="editLead(${lead.id})"><i class="fas fa-edit"></i></button>
                                <button class="delete" onclick="deleteLead(${lead.id})"><i class="fas fa-trash"></i></button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }
        }

        function filterTasks(filter) {
            renderTasks(filter);
        }

        // Export Data
        async function exportData() {
            try {
                let csvContent = "";
                
                // Customers CSV
                csvContent += "Customers\n";
                csvContent += "ID,Name,Email,Phone,Company,Address,Gutter Services,Ceiling Services,Roof Services,Total Value,Status,Created Date\n";
                customers.forEach(customer => {
                    csvContent += `${customer.id},"${customer.name}","${customer.email}","${customer.phone}","${customer.company}","${customer.address}","${customer.gutterServices}","${customer.ceilingServices}","${customer.roofServices}",${customer.totalValue},"${customer.status}","${customer.createdDate}"\n`;
                });
                
                csvContent += "\nLeads\n";
                csvContent += "ID,Name,Email,Phone,Company,Source,Status,Assigned To,Created Date\n";
                leads.forEach(lead => {
                    csvContent += `${lead.id},"${lead.name}","${lead.email}","${lead.phone}","${lead.company}","${lead.source}","${lead.status}","${lead.assignedTo}","${lead.createdDate}"\n`;
                });
                
                csvContent += "\nDeals\n";
                csvContent += "ID,Name,Customer ID,Customer Name,Value,Stage,Probability,Expected Close Date,Assigned To,Description,Created Date\n";
                deals.forEach(deal => {
                    csvContent += `${deal.id},"${deal.name}",${deal.customerId},"${deal.customerName}",${deal.value},"${deal.stage}",${deal.probability},"${deal.expectedCloseDate}","${deal.assignedTo}","${deal.description}","${deal.createdDate}"\n`;
                });
                
                csvContent += "\nTasks\n";
                csvContent += "ID,Title,Description,Priority,Due Date,Assigned To,Completed,Created Date\n";
                tasks.forEach(task => {
                    csvContent += `${task.id},"${task.title}","${task.description}","${task.priority}","${task.dueDate}","${task.assignedTo}",${task.completed},"${task.createdDate}"\n`;
                });
                
                // Create download link
                const blob = new Blob([csvContent], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `wedabime-crm-export-${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
                window.URL.revokeObjectURL(url);
                
                showToast('Data exported successfully!', 'success');
            } catch (error) {
                console.error('Export error:', error);
                showToast('Failed to export data', 'error');
            }
        }

        // Generate Reports
        function generateReports() {
            // Customer Chart
            const customerCtx = document.getElementById('customer-chart').getContext('2d');
            new Chart(customerCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Active', 'Inactive'],
                    datasets: [{
                        data: [
                            customers.filter(c => c.status === 'active').length,
                            customers.filter(c => c.status === 'inactive').length
                        ],
                        backgroundColor: ['#39FF14', '#ff9900']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#39FF14' }
                        }
                    }
                }
            });
            
            // Lead Chart
            const leadCtx = document.getElementById('lead-chart').getContext('2d');
            new Chart(leadCtx, {
                type: 'bar',
                data: {
                    labels: ['New', 'Contacted', 'Qualified', 'Converted'],
                    datasets: [{
                        label: 'Leads',
                        data: [
                            leads.filter(l => l.status === 'new').length,
                            leads.filter(l => l.status === 'contacted').length,
                            leads.filter(l => l.status === 'qualified').length,
                            leads.filter(l => l.status === 'converted').length
                        ],
                        backgroundColor: '#39FF14'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#39FF14' }
                        }
                    },
                    scales: {
                        y: {
                            ticks: { color: '#39FF14' },
                            grid: { color: '#004400' }
                        },
                        x: {
                            ticks: { color: '#39FF14' },
                            grid: { color: '#004400' }
                        }
                    }
                }
            });
            
            // Revenue Chart
            const revenueCtx = document.getElementById('revenue-chart').getContext('2d');
            const monthlyRevenue = calculateMonthlyRevenue();
            new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: monthlyRevenue.labels,
                    datasets: [{
                        label: 'Revenue (LKR)',
                        data: monthlyRevenue.data,
                        borderColor: '#39FF14',
                        backgroundColor: 'rgba(57, 255, 20, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#39FF14' }
                        }
                    },
                    scales: {
                        y: {
                            ticks: { color: '#39FF14' },
                            grid: { color: '#004400' }
                        },
                        x: {
                            ticks: { color: '#39FF14' },
                            grid: { color: '#004400' }
                        }
                    }
                }
            });
            
            // Services Chart
            const servicesCtx = document.getElementById('services-chart').getContext('2d');
            const servicesData = calculateServicesDistribution();
            new Chart(servicesCtx, {
                type: 'pie',
                data: {
                    labels: servicesData.labels,
                    datasets: [{
                        data: servicesData.data,
                        backgroundColor: ['#39FF14', '#00cc00', '#ff9900', '#ffff00']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#39FF14' }
                        }
                    }
                }
            });
        }

        // Calculate Monthly Revenue
        function calculateMonthlyRevenue() {
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
            const currentMonth = new Date().getMonth();
            const revenueData = [];
            
            for (let i = 5; i >= 0; i--) {
                const monthIndex = (currentMonth - i + 12) % 12;
                const monthRevenue = customers
                    .filter(c => new Date(c.createdDate).getMonth() === monthIndex)
                    .reduce((sum, c) => sum + (parseInt(c.totalValue) || 0), 0);
                revenueData.push(monthRevenue);
            }
            
            return {
                labels: months.slice(-6),
                data: revenueData
            };
        }

        // Calculate Services Distribution
        function calculateServicesDistribution() {
            const services = {
                'Gutter': 0,
                'Ceiling': 0,
                'Roof': 0,
                'Other': 0
            };
            
            customers.forEach(customer => {
                if (customer.gutterServices && customer.gutterServices !== 'None') services['Gutter']++;
                if (customer.ceilingServices && customer.ceilingServices !== 'None') services['Ceiling']++;
                if (customer.roofServices && customer.roofServices !== 'None') services['Roof']++;
            });
            
            return {
                labels: Object.keys(services),
                data: Object.values(services)
            };
        }

        // Placeholder functions for edit/delete
        function editCustomer(id) {
            showToast('Edit functionality coming soon!', 'success');
        }

        function deleteCustomer(id) {
            if (confirm('Are you sure you want to delete this customer?')) {
                showToast('Delete functionality coming soon!', 'success');
            }
        }

        function editLead(id) {
            showToast('Edit functionality coming soon!', 'success');
        }

        function deleteLead(id) {
            if (confirm('Are you sure you want to delete this lead?')) {
                showToast('Delete functionality coming soon!', 'success');
            }
        }

        function viewDeal(id) {
            showToast('Deal details coming soon!', 'success');
        }

        function editTask(id) {
            showToast('Edit functionality coming soon!', 'success');
        }

        function deleteTask(id) {
            if (confirm('Are you sure you want to delete this task?')) {
                showToast('Delete functionality coming soon!', 'success');
            }
        }

        function toggleTask(id) {
            showToast('Task toggle functionality coming soon!', 'success');
        }

        // Utility Functions
        function showLoading(show) {
            // You can implement a global loading indicator here
            console.log(show ? 'Loading...' : 'Loading complete');
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type}`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize with sample data if Google Sheets is not available
        function loadSampleData() {
            console.log('Loading sample data for demonstration...');
            
            // Sample customers
            customers = [
                {
                    id: 1,
                    name: 'John Smith',
                    email: 'john.smith@example.com',
                    phone: '+1234567890',
                    company: 'ABC Corporation',
                    address: '123 Main St, Colombo',
                    gutterServices: 'New',
                    ceilingServices: 'None',
                    roofServices: 'Repair',
                    totalValue: 150000,
                    status: 'active',
                    createdDate: new Date().toISOString()
                },
                {
                    id: 2,
                    name: 'Sarah Johnson',
                    email: 'sarah.j@example.com',
                    phone: '+0987654321',
                    company: 'XYZ Industries',
                    address: '456 Oak Ave, Kandy',
                    gutterServices: 'Repair',
                    ceilingServices: 'New',
                    roofServices: 'New',
                    totalValue: 250000,
                    status: 'active',
                    createdDate: new Date().toISOString()
                }
            ];
            
            // Sample leads
            leads = [
                {
                    id: 1,
                    name: 'David Wilson',
                    email: 'david.w@example.com',
                    phone: '+5544332211',
                    company: 'Future Tech Inc.',
                    source: 'Website',
                    status: 'new',
                    assignedTo: 'Admin User',
                    createdDate: new Date().toISOString()
                }
            ];
            
            // Sample deals
            deals = [
                {
                    id: 1,
                    name: 'Office Building Project',
                    customerId: 1,
                    customerName: 'John Smith',
                    value: 150000,
                    stage: 'proposal',
                    probability: 75,
                    expectedCloseDate: '2024-02-15',
                    assignedTo: 'Admin User',
                    description: 'Complete office building construction',
                    createdDate: new Date().toISOString()
                }
            ];
            
            // Sample tasks
            tasks = [
                {
                    id: 1,
                    title: 'Follow up with John Smith',
                    description: 'Discuss project requirements',
                    priority: 'high',
                    dueDate: '2024-01-20',
                    assignedTo: 'Admin User',
                    completed: false,
                    createdDate: new Date().toISOString()
                }
            ];
            
            // Sample activities
            activities = [
                {
                    id: 1,
                    type: 'customer',
                    title: 'New Customer Added',
                    description: 'Added new customer John Smith',
                    timestamp: new Date().toISOString()
                }
            ];
            
            // Render the data
            renderCustomers();
            renderLeads();
            renderPipeline();
            renderTasks();
            renderDashboard();
        }

        // Try to load from Google Sheets, fallback to sample data
        loadAllData().catch(error => {
            console.log('Failed to load from Google Sheets, using sample data:', error);
            loadSampleData();
        });
    </script>
</body>
</html>